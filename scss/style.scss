@import 'bourbon';
@import '../partials/variables';
@import '../partials/mixins';
@import '../partials/layout';

/* -------------------------------- 

Primary style

-------------------------------- */

*, *::after, *::before {
	@include box-sizing(border-box);
}

html {
	font-size: 62.5%;
}

body {
	font: {
		size: 1.6rem;
		family: $primary-font;
	}
	color: $color-white;
	background-color: $color-dark;
}

a {
	text-decoration: none;
}

#headline-wrapper {
	width: 100%;
}

.cd-intro {
	height: 500px;
	margin: auto;
	max-width: 29rem;
	
	@include MQ(M) {
		max-width: 60rem;
	}

	@include MQ(L) {
		max-width: 98rem;
		height: 600px;
	}
	
	
	h4 {
		text-transform: uppercase;
		letter-spacing: 0.6rem;
		position: relative;
		padding-bottom: 80px;
	}
	
	h5:last-child {
		padding-top: 5px;
		color: $color-light-grey;
		white-space: nowrap;
		
		a {
			color: $color-event-tracks;
		}
	}
	
	.cd-headline {
		padding-top: 80px;

		@include MQ(L) {
			padding-top: 160px;
		}
	}
}


.cd-words-wrapper {
	display: inline-block;
	position: relative;
	text-align: left;
	
	p {
		display: inline-block;
		position: absolute;
		white-space: pre;
		left: 0;
		top: 0;
		text-transform: uppercase;
		
		font-family: $primary-font;
		color: $color-white;
		font-size: 2rem;
		letter-spacing: 2px;
		line-height: 1.2;
		font-weight: 300;
		
		@include MQ(M) {
			font-size: 3rem; // TODO ?
			font-weight: 300;
		}

		@include MQ(L) {
			font-size: 5rem; // TODO ?
		}
		

		&.is-visible {
			position: relative;
		}
	}

	.no-js & b {
		opacity: 0;
		
		&.is-visible {
			opacity: 1;
		}

	}
}





.timeline-event {
	width: 100%;
	background-color: red;
	
	@include MQ(L) {
		height: 760px;
		background-image: url('img/event-rdc/medium.png');
		background-repeat: no-repeat;
		background-position: 200% 50%;
	}
	
	@include MQ(E1) {
		background-position: 150% 50%;
	}
	
	@include MQ(E2) {
		background-position: 100% 50%;
	}
	
	@include MQ(E3) {
		background-position: 80% 50%;
	}
	
	.event-wrapper {
		margin: auto;
		max-width: 29rem;
		
		@include MQ(M) {
			max-width: 60rem;
		}
		
		@include MQ(L) {
			max-width: 98rem;
		}
		
		h3 {
			padding-top: 30px;
			
			@include MQ(L) {
				padding-top: 15rem;
			}
		}
		
		.headline-container {
			margin-top: 4px;
			height: 60px;
			max-width: 29rem;
			background-color: grey;
			box-shadow: 0px 20px 20px 0px rgba(0,0,0,0.36);
			
			@include MQ(M) {
				margin-top: 10px;
				height: 100px;
				max-width: 60rem;
				box-shadow: 0px 10px 20px 0px rgba(0,0,0,0.50);
			}
			
			h2 {
				padding-top: 18px;
				margin-left: 20px;
				
				@include MQ(M) {
					padding-top: 20px;
					
				}
			}
		}
		
		
		p {
			padding-top: 30px;
			max-width: 100%;
			
			@include MQ(M) {
				padding-top: 40px;
				max-width: 54rem;
			}
			
			@include MQ(L) {
				padding-top: 60px;
				max-width: 40rem;
			}
		}
		
		
		pre {
			padding-top: 20px;
			
			@include MQ(L) {
				padding-top: 30px;
			}
			
			a {
				text-transform: uppercase;
				
				font-family: $secondary-font;
				font-size: 2rem;
				line-height: 2.4rem;
				font-weight: 300;
	
				@include MQ(L) {
					font-size: 2.4rem;
					line-height: 3rem;
				}
			}
		}
		
	}

	.image-wrapper {

		img {
				width: 100%;
				background-repeat: no-repeat;
				background-position: 50% 50%;
				margin: auto;
		
				@include MQ(M) {
					max-width: 980px;
				}

				@include MQ(L) {
					visibility: hidden;
				}

		}
	}
}






/* -------------------------------- 

xrotate-2 

-------------------------------- */

.cd-headline.rotate-2 {

	.cd-words-wrapper {
		@include perspective(300px);
	}

	i, div, em {
		display: inline-block;
		@include backface-visibility(hidden);
	}

	p {
		opacity: 0;
	}

	i, div {
		@include transform-style(preserve-3d);
		@include transform(translateZ(-20px) rotateX(90deg));
		opacity: 0;

		.is-visible & {
			opacity: 1;
		}

		&.in {
			@include animation(cd-rotate-2-in .4s forwards);
		}

		&.out {
			@include animation(cd-rotate-2-out .4s forwards);
		}
	}

	em {
		@include transform(translateZ(20px));
		font-style: normal;
	}

	span {
		text-transform: uppercase;
	}
	
}



///////// ANIMATION BLOCK

.no-csstransitions .cd-headline.rotate-2 i {
	@include transform(rotateX(0deg));
	opacity: 0;

	em {
		@include transform(scale(1));
	}
}

.no-csstransitions .cd-headline.rotate-2 .is-visible i {
	opacity: 1;
}

@include keyframes(cd-rotate-2-in) {
	0% {
		opacity: 0;
		@include transform(translateZ(-20px) rotateX(90deg));
	}

	60% {
		opacity: 1;
		@include transform(translateZ(-20px) rotateX(-10deg));
	}

	100% {
		opacity: 1;
		@include transform(translateZ(-20px) rotateX(0deg));
	}
}

@include keyframes(cd-rotate-2-out) {
	0% {
		opacity: 1;
		@include transform(translateZ(-20px) rotateX(0));
	}

	60% {
		opacity: 0;
		@include transform(translateZ(-20px) rotateX(-100deg));
	}

	100% {
		opacity: 0;
		@include transform(translateZ(-20px) rotateX(-90deg));
	}
}

